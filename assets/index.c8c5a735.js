(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function i(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerpolicy&&(u.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?u.credentials="include":n.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(n){if(n.ep)return;n.ep=!0;const u=i(n);fetch(n.href,u)}})();function H(){}function ve(e){return e()}function ae(){return Object.create(null)}function F(e){e.forEach(ve)}function ye(e){return typeof e=="function"}function Z(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Le(e){return Object.keys(e).length===0}function ke(e,...t){if(e==null)return H;const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function Ne(e){let t;return ke(e,i=>t=i)(),t}function $e(e,t,i){e.$$.on_destroy.push(ke(t,i))}function de(e){return e==null?"":e}function O(e,t,i){return e.set(i),t}function p(e,t){e.appendChild(t)}function P(e,t,i){e.insertBefore(t,i||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function Me(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function w(e){return document.createElement(e)}function Ae(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function I(e){return document.createTextNode(e)}function j(){return I(" ")}function B(e,t,i,s){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i,s)}function _(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function D(e){return e===""?null:+e}function Oe(e){return Array.from(e.childNodes)}function te(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function q(e,t){e.value=t==null?"":t}function y(e,t,i,s){i===null?e.style.removeProperty(t):e.style.setProperty(t,i,s?"important":"")}class Pe{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,i,s=null){this.e||(this.is_svg?this.e=Ae(i.nodeName):this.e=w(i.nodeName),this.t=i,this.c(t)),this.i(s)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let i=0;i<this.n.length;i+=1)P(this.t,this.n[i],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(N)}}let le;function Q(e){le=e}function pe(e,t){const i=e.$$.callbacks[t.type];i&&i.slice().forEach(s=>s.call(this,t))}const G=[],ne=[],W=[],he=[],Te=Promise.resolve();let ie=!1;function je(){ie||(ie=!0,Te.then(Ee))}function se(e){W.push(e)}const x=new Set;let U=0;function Ee(){const e=le;do{for(;U<G.length;){const t=G[U];U++,Q(t),Be(t.$$)}for(Q(null),G.length=0,U=0;ne.length;)ne.pop()();for(let t=0;t<W.length;t+=1){const i=W[t];x.has(i)||(x.add(i),i())}W.length=0}while(G.length);for(;he.length;)he.pop()();ie=!1,x.clear(),Q(e)}function Be(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(se)}}const X=new Set;let V;function Ie(){V={r:0,c:[],p:V}}function qe(){V.r||F(V.c),V=V.p}function R(e,t){e&&e.i&&(X.delete(e),e.i(t))}function Y(e,t,i,s){if(e&&e.o){if(X.has(e))return;X.add(e),V.c.push(()=>{X.delete(e),s&&(i&&e.d(1),s())}),e.o(t)}else s&&s()}function Se(e){e&&e.c()}function re(e,t,i,s){const{fragment:n,after_update:u}=e.$$;n&&n.m(t,i),s||se(()=>{const r=e.$$.on_mount.map(ve).filter(ye);e.$$.on_destroy?e.$$.on_destroy.push(...r):F(r),e.$$.on_mount=[]}),u.forEach(se)}function oe(e,t){const i=e.$$;i.fragment!==null&&(F(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function ze(e,t){e.$$.dirty[0]===-1&&(G.push(e),je(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ue(e,t,i,s,n,u,r,a=[-1]){const g=le;Q(e);const o=e.$$={fragment:null,ctx:[],props:u,update:H,not_equal:n,bound:ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(g?g.$$.context:[])),callbacks:ae(),dirty:a,skip_bound:!1,root:t.target||g.$$.root};r&&r(o.root);let b=!1;if(o.ctx=i?i(e,t.props||{},(f,m,...v)=>{const k=v.length?v[0]:m;return o.ctx&&n(o.ctx[f],o.ctx[f]=k)&&(!o.skip_bound&&o.bound[f]&&o.bound[f](k),b&&ze(e,f)),m}):[],o.update(),b=!0,F(o.before_update),o.fragment=s?s(o.ctx):!1,t.target){if(t.hydrate){const f=Oe(t.target);o.fragment&&o.fragment.l(f),f.forEach(N)}else o.fragment&&o.fragment.c();t.intro&&R(e.$$.fragment),re(e,t.target,t.anchor,t.customElement),Ee()}Q(g)}class ce{$destroy(){oe(this,1),this.$destroy=H}$on(t,i){if(!ye(i))return H;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(i),()=>{const n=s.indexOf(i);n!==-1&&s.splice(n,1)}}$set(t){this.$$set&&!Le(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const K=[];function He(e,t=H){let i;const s=new Set;function n(a){if(Z(e,a)&&(e=a,i)){const g=!K.length;for(const o of s)o[1](),K.push(o,e);if(g){for(let o=0;o<K.length;o+=2)K[o][0](K[o+1]);K.length=0}}}function u(a){n(a(e))}function r(a,g=H){const o=[a,g];return s.add(o),s.size===1&&(i=t(n)||H),a(e),()=>{s.delete(o),s.size===0&&(i(),i=null)}}return{set:n,update:u,subscribe:r}}var ee={};function Ce(e,t,i){const s=typeof localStorage<"u"&&typeof window<"u",n=(i==null?void 0:i.serializer)||JSON;function u(r,a){!s||localStorage.setItem(r,n.stringify(a))}if(!ee[e]){const r=He(t,o=>{const b=s?localStorage.getItem(e):null;if(b&&o(n.parse(b)),s){const f=m=>{m.key===e&&o(m.newValue?n.parse(m.newValue):null)};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)}}),{subscribe:a,set:g}=r;ee[e]={set(o){u(e,o),g(o)},update(o){const b=o(Ne(r));u(e,b),g(b)},subscribe:a}}return ee[e]}function De(e){let t,i,s;return{c(){t=w("input"),_(t,"class","w3-input svelte-1r002gk"),y(t,"color","black"),y(t,"pointer-events","none")},m(n,u){P(n,t,u),q(t,e[1].name),i||(s=B(t,"input",e[17]),i=!0)},p(n,u){u&2&&t.value!==n[1].name&&q(t,n[1].name)},d(n){n&&N(t),i=!1,s()}}}function Fe(e){let t,i,s;return{c(){t=w("input"),_(t,"class","w3-input svelte-1r002gk"),y(t,"color","black")},m(n,u){P(n,t,u),q(t,e[1].name),i||(s=B(t,"input",e[16]),i=!0)},p(n,u){u&2&&t.value!==n[1].name&&q(t,n[1].name)},d(n){n&&N(t),i=!1,s()}}}function ge(e){let t=J(e[1].bronstein)+"",i;return{c(){i=I(t)},m(s,n){P(s,i,n)},p(s,n){n&2&&t!==(t=J(s[1].bronstein)+"")&&te(i,t)},d(s){s&&N(i)}}}function _e(e){let t,i,s;return{c(){t=I("("),i=new Pe(!1),s=I(")"),i.a=s},m(n,u){P(n,t,u),i.m(e[2],n,u),P(n,s,u)},p(n,u){u&4&&i.p(n[2])},d(n){n&&N(t),n&&i.d(),n&&N(s)}}}function Ve(e){let t,i,s,n,u=J(e[1].seconds)+"",r,a,g,o,b,f=e[1].moves+"",m,v,k,S,C=J(e[1].totaltime)+"",T,h,M;function z(l,d){return l[0]?Fe:De}let A=z(e),E=A(e),c=e[1].bronstein>0&&ge(e),$=e[1].moves>0&&_e(e);return{c(){t=w("div"),E.c(),i=j(),s=w("div"),n=w("div"),r=I(u),a=j(),g=w("div"),c&&c.c(),o=j(),b=w("div"),m=I(f),v=j(),$&&$.c(),k=j(),S=w("div"),y(g,"color","gray"),_(n,"class",""),y(n,"position","absolute"),y(n,"left","50%"),y(n,"transform","translate(-50%)"),y(n,"text-align","right"),_(s,"class","time svelte-1r002gk"),_(b,"class","w3-display-bottomleft w3-padding"),_(S,"class","w3-display-bottomright w3-padding"),_(t,"id","square"),_(t,"class",T=de(e[1].running?"running":"")+" svelte-1r002gk")},m(l,d){P(l,t,d),E.m(t,null),p(t,i),p(t,s),p(s,n),p(n,r),p(n,a),p(n,g),c&&c.m(g,null),p(t,o),p(t,b),p(b,m),p(b,v),$&&$.m(b,null),p(t,k),p(t,S),S.innerHTML=C,h||(M=[B(t,"click",e[14]),B(t,"keydown",e[15])],h=!0)},p(l,[d]){A===(A=z(l))&&E?E.p(l,d):(E.d(1),E=A(l),E&&(E.c(),E.m(t,i))),d&2&&u!==(u=J(l[1].seconds)+"")&&te(r,u),l[1].bronstein>0?c?c.p(l,d):(c=ge(l),c.c(),c.m(g,null)):c&&(c.d(1),c=null),d&2&&f!==(f=l[1].moves+"")&&te(m,f),l[1].moves>0?$?$.p(l,d):($=_e(l),$.c(),$.m(b,null)):$&&($.d(1),$=null),d&2&&C!==(C=J(l[1].totaltime)+"")&&(S.innerHTML=C),d&2&&T!==(T=de(l[1].running?"running":"")+" svelte-1r002gk")&&_(t,"class",T)},i:H,o:H,d(l){l&&N(t),E.d(),c&&c.d(),$&&$.d(),h=!1,F(M)}}}function J(e){let t="";e<0&&(t+="-"),e=Math.abs(e);let i=Math.floor(e/(60*60)),s=Math.floor(e/60%60),n=Math.floor(e%60);return i>0&&(t+=i+":",s<10&&(t+="0")),s>0&&(t+=s+":",n<10&&(t+="0")),t+=n,t}function Je(e,t,i){let s,n,{id:u=0}=t,{config:r={basetime:5,fischer:5,bronstein:5}}=t,{editable:a=!1}=t;const g={seconds:r.basetime,running:!1,bronstein:r.bronstein,checkpoint:0,moves:0,totaltime:0,name:"Player"};let o=Ce("clockstate-"+u,g);$e(e,o,c=>i(1,n=c)),setInterval(v,100);function b(){return n.running}function f(){return n}function m(c){O(o,n=c,n)}function v(){if(n.running){let c=Date.now(),$=(c-n.checkpoint)/1e3;O(o,n.checkpoint=c,n),O(o,n.totaltime+=$,n),n.bronstein-$>0?O(o,n.bronstein-=$,n):(O(o,n.seconds-=$-n.bronstein,n),O(o,n.bronstein=0,n))}}function k(){T(),O(o,n.bronstein=r.bronstein,n)}function S(){C(),O(o,n.seconds+=r.fischer,n),O(o,n.moves+=1,n)}function C(){v(),O(o,n.running=!1,n)}function T(){O(o,n.checkpoint=Date.now(),n),O(o,n.running=!0,n)}function h(){O(o,n.seconds=r.basetime,n),O(o,n.running=!1,n),O(o,n.bronstein=r.bronstein,n),O(o,n.moves=0,n),O(o,n.totaltime=0,n)}function M(c){pe.call(this,e,c)}function z(c){pe.call(this,e,c)}function A(){n.name=this.value,o.set(n)}function E(){n.name=this.value,o.set(n)}return e.$$set=c=>{"id"in c&&i(4,u=c.id),"config"in c&&i(5,r=c.config),"editable"in c&&i(0,a=c.editable)},e.$$.update=()=>{e.$$.dirty&2&&i(2,s=J(n.totaltime/n.moves))},[a,n,s,o,u,r,b,f,m,k,S,C,T,h,M,z,A,E]}class Ke extends ce{constructor(t){super(),ue(this,t,Je,Ve,Z,{id:4,config:5,editable:0,isrunning:6,getstate:7,setstate:8,start:9,stop:10,pause:11,unpause:12,reset:13})}get isrunning(){return this.$$.ctx[6]}get getstate(){return this.$$.ctx[7]}get setstate(){return this.$$.ctx[8]}get start(){return this.$$.ctx[9]}get stop(){return this.$$.ctx[10]}get pause(){return this.$$.ctx[11]}get unpause(){return this.$$.ctx[12]}get reset(){return this.$$.ctx[13]}}function me(e,t,i){const s=e.slice();return s[22]=t[i],s[23]=t,s[24]=i,s}function be(e){let t,i,s,n,u,r,a,g,o,b,f,m,v,k,S,C,T;return{c(){t=w("div"),i=I("Players "),s=w("input"),n=I(`
            Basis `),u=w("input"),r=I(`
            Bronstein `),a=w("input"),g=I(`
            Fischer `),o=w("input"),b=j(),f=w("label"),f.textContent="Clockwise",m=w("br"),v=w("input"),k=j(),S=w("button"),S.textContent="RESET",_(s,"type","number"),_(s,"class","svelte-14sxoso"),_(u,"type","number"),_(u,"class","svelte-14sxoso"),_(a,"type","number"),_(a,"class","svelte-14sxoso"),_(o,"type","number"),_(o,"class","svelte-14sxoso"),_(f,"for","order"),_(v,"id","order"),_(v,"type","checkbox"),_(v,"class","svelte-14sxoso"),_(S,"class","w3-button w3-padding-small w3-light-grey w3-medium"),y(t,"display","flex"),y(t,"flex-direction","column"),y(t,"width","20%"),y(t,"margin","auto"),y(t,"padding","20px")},m(h,M){P(h,t,M),p(t,i),p(t,s),q(s,e[0].players),p(t,n),p(t,u),q(u,e[0].basetime),p(t,r),p(t,a),q(a,e[0].bronstein),p(t,g),p(t,o),q(o,e[0].fischer),p(t,b),p(t,f),p(t,m),p(t,v),v.checked=e[0].ordered,p(t,k),p(t,S),C||(T=[B(s,"input",e[11]),B(u,"input",e[12]),B(a,"input",e[13]),B(o,"input",e[14]),B(v,"change",e[15]),B(S,"click",e[9])],C=!0)},p(h,M){M&1&&D(s.value)!==h[0].players&&q(s,h[0].players),M&1&&D(u.value)!==h[0].basetime&&q(u,h[0].basetime),M&1&&D(a.value)!==h[0].bronstein&&q(a,h[0].bronstein),M&1&&D(o.value)!==h[0].fischer&&q(o,h[0].fischer),M&1&&(v.checked=h[0].ordered)},d(h){h&&N(t),C=!1,F(T)}}}function Re(e){let t;return{c(){t=I("\u23F8\uFE0E")},m(i,s){P(i,t,s)},d(i){i&&N(t)}}}function Ge(e){let t;return{c(){t=I("\u23F5\uFE0E")},m(i,s){P(i,t,s)},d(i){i&&N(t)}}}function we(e){let t,i,s,n=e[22],u,r;const a=()=>e[16](s,n),g=()=>e[16](null,n);function o(){return e[17](e[22])}let b={id:e[22],config:e[0],editable:e[2]};return s=new Ke({props:b}),a(),s.$on("click",o),{c(){t=w("div"),i=w("div"),Se(s.$$.fragment),u=j(),_(i,"class","w3-sand w3-border w3-padding w3-margin w3-round-large"),_(t,"class","watch svelte-14sxoso")},m(f,m){P(f,t,m),p(t,i),re(s,i,null),p(t,u),r=!0},p(f,m){e=f,n!==e[22]&&(g(),n=e[22],a());const v={};m&16&&(v.id=e[22]),m&1&&(v.config=e[0]),m&4&&(v.editable=e[2]),s.$set(v)},i(f){r||(R(s.$$.fragment,f),r=!0)},o(f){Y(s.$$.fragment,f),r=!1},d(f){f&&N(t),g(),oe(s)}}}function Qe(e){let t,i,s,n,u,r,a,g,o,b,f,m,v,k,S,C,T,h=e[2]&&be(e);function M(l,d){return l[1]?Ge:Re}let z=M(e),A=z(e),E=e[4],c=[];for(let l=0;l<E.length;l+=1)c[l]=we(me(e,E,l));const $=l=>Y(c[l],1,1,()=>{c[l]=null});return{c(){t=w("link"),i=j(),s=w("div"),n=w("div"),u=I("Settings "),r=w("input"),a=w("br"),g=j(),h&&h.c(),o=j(),b=w("button"),b.textContent="\u23EA\uFE0E",f=j(),m=w("button"),A.c(),v=j(),k=w("div");for(let l=0;l<c.length;l+=1)c[l].c();_(t,"rel","stylesheet"),_(t,"href","https://www.w3schools.com/w3css/4/w3.css"),_(r,"type","checkbox"),_(r,"class","svelte-14sxoso"),_(b,"class","w3-button w3-padding-large w3-light-grey w3-xxlarge"),_(m,"class","w3-button w3-padding-large w3-light-grey w3-xxlarge"),_(m,"style",""),_(n,"class",""),y(k,"position","absolute"),y(k,"width","100%"),y(k,"left","0"),y(k,"display","flex"),y(k,"flex-flow","row wrap"),y(k,"justify-content","center"),y(s,"position","absolute"),y(s,"width","100%"),y(s,"height","100%"),y(s,"left","0"),y(s,"top","0")},m(l,d){P(l,t,d),P(l,i,d),P(l,s,d),p(s,n),p(n,u),p(n,r),r.checked=e[2],p(n,a),p(n,g),h&&h.m(n,null),p(n,o),p(n,b),p(n,f),p(n,m),A.m(m,null),p(s,v),p(s,k);for(let L=0;L<c.length;L+=1)c[L].m(k,null);S=!0,C||(T=[B(r,"change",e[10]),B(b,"click",e[6]),B(m,"click",e[8])],C=!0)},p(l,[d]){if(d&4&&(r.checked=l[2]),l[2]?h?h.p(l,d):(h=be(l),h.c(),h.m(n,o)):h&&(h.d(1),h=null),z!==(z=M(l))&&(A.d(1),A=z(l),A&&(A.c(),A.m(m,null))),d&157){E=l[4];let L;for(L=0;L<E.length;L+=1){const fe=me(l,E,L);c[L]?(c[L].p(fe,d),R(c[L],1)):(c[L]=we(fe),c[L].c(),R(c[L],1),c[L].m(k,null))}for(Ie(),L=E.length;L<c.length;L+=1)$(L);qe()}},i(l){if(!S){for(let d=0;d<E.length;d+=1)R(c[d]);S=!0}},o(l){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)Y(c[d]);S=!1},d(l){l&&N(t),l&&N(i),l&&N(s),h&&h.d(),A.d(),Me(c,l),C=!1,F(T)}}}function Ue(e,t,i){let s,n,u=!1,r=[],a=[],g=[0,1,4,2,3];const o=[[0],[1,0],[1,2,0],[1,3,0,2],[0,1,3,4,2],[0,1,3,5,4,2],[0,1,3,5,6,4,2],[0,1,3,5,7,6,4,2]];let f=Ce("config",{players:4,bronstein:5,fischer:5,basetime:10,ordered:!0});$e(e,f,l=>i(0,s=l));function m(){if(a.length==0)return;let l=a.pop();for(let d in l)r[d].setstate(l[d])}function v(l){if(!u)if(C(),r.every(d=>d.isrunning()==!1))r[l].start(),i(1,n=void 0);else if(s.ordered&&r[l].isrunning()){r[l].stop();let d=o[s.players-1][l];r[d].start()}else if(!s.ordered&&!r[l].isrunning()){for(let d in g)r[d].isrunning()&&r[d].stop();r[l].start()}else!s.ordered&&r[l].isrunning()&&r[l].stop()}function k(){if(C(),n===void 0)for(let l in g)r[l].isrunning()&&i(1,n=l),r[l].pause();else r.every(l=>!l.isrunning())&&r[n].unpause(),i(1,n=void 0)}function S(){C();for(let l in g)r[l].reset();i(1,n=void 0)}function C(){a.push(structuredClone(r.map(l=>l.getstate())))}function T(){u=this.checked,i(2,u)}function h(){s.players=D(this.value),f.set(s)}function M(){s.basetime=D(this.value),f.set(s)}function z(){s.bronstein=D(this.value),f.set(s)}function A(){s.fischer=D(this.value),f.set(s)}function E(){s.ordered=this.checked,f.set(s)}function c(l,d){ne[l?"unshift":"push"](()=>{r[d]=l,i(3,r)})}const $=l=>v(l);return e.$$.update=()=>{e.$$.dirty&1&&i(4,g=[...Array(s.players).keys()])},[s,n,u,r,g,f,m,v,k,S,T,h,M,z,A,E,c,$]}class We extends ce{constructor(t){super(),ue(this,t,Ue,Qe,Z,{})}}function Xe(e){let t,i,s,n,u;return n=new We({}),{c(){t=w("meta"),i=j(),s=w("main"),Se(n.$$.fragment),_(t,"name","viewport"),_(t,"content","width=device-width, initial-scale=1")},m(r,a){P(r,t,a),P(r,i,a),P(r,s,a),re(n,s,null),u=!0},p:H,i(r){u||(R(n.$$.fragment,r),u=!0)},o(r){Y(n.$$.fragment,r),u=!1},d(r){r&&N(t),r&&N(i),r&&N(s),oe(n)}}}class Ye extends ce{constructor(t){super(),ue(this,t,null,Xe,Z,{})}}new Ye({target:document.getElementById("app")});
